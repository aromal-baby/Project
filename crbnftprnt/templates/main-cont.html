{% extends "base.htm" %}

{% block title %}index{% endblock %}

{% block body_class %}index-page{% endblock %}

{% block content %}

<div class="calc-graph-modal" class="graph-container">

    <div id="calc-result">
        <div id="calc-graph">
            
            <div class="default-graph-content">
                <div class="graph-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="64" height="64" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 13v-1m4 1v-3m4 3V8M12 21a9 9 0 110-18 9 9 0 010 18z"/>
                    </svg>
                </div>
                <h3>Carbon Footprint Analysis</h3>
                <p>Enter your data in the form below to calculate your carbon footprint</p>
            </div>
            <div id="load-indicator" style="display: none;">
                <div class="spinner"></div>
                <p>Calculating your carbon footprint</p>
            </div>

        </div>
       
        <img id="carbon-graph" src="" alt="Carbon Emission Graph">
        <div id="dwnld-btn">
            <button onclick="window.location.href={{ url_for('download_report') }}">
                Download PDF Report
            </button>
        </div>
        <div class="emission-details">
            <p>Energy Emission: <span id="energy-emission">0.00</span>kg CO2</p>
            <p>Waste Emission: <span id="waste-emission">0.00</span>kg CO2</p>
            <p>Business Emission: <span id="business-emission">0.00</span>kg CO2</p>
        </div>
    </div>

</div>


<div class="calc-modal">

    <div id="calc-cont">


       <div id="calc-form">
            <form action="/main-content" method="POST" id="carbonCalculatorForm" onsubmit="handleFormSubmit(event)">
                <fieldset>
                    <legend>Energy usage</legend>
                    <label for="energy1">What is your average monthly electricity bill in Euros?</label><br>
                    <input type="number" id="energy1" name="energy1"><br><br>
                    <label for="energy2">What is your average monthly natural gas bill in Euros?</label><br>
                    <input type="number" id="energy2" name="energy2"><br><br>
                    <label for="energy3">What is your average monthly fuel bill for transportation in Euros?</label><br>
                    <input type="number" id="energy3" name="energy3">
                </fieldset>

                <fieldset>
                    <legend>Waste usage</legend>
                    <label for="waste1">How much do you generate per month in kilograms?</label><br>
                    <input type="number" id="waste1" name="waste1"><br><br>
                    <label for="waste2">How much of that waste is recycled or composted(in percentage)?</label><br>
                    <input type="number" id="waste2" name="waste2">
                </fieldset>
                
                <fieldset>
                    <legend>Business</legend>
                    <label for="business1">How many kilometers your employees travel per year for business purpose?</label><br>
                    <input type="number" id="business1" name="business1"><br><br>
                    <label for="business2">What is the average fuel efficiency of the vehicles used for business travel in liters/100km?</label><br>
                    <input type="number" id="business2" name="business2">
                </fieldset>

                <button type="submit" onclick="calculate()">calculate</button><button type="reset">Reset</button>
            </form>
        </div>

    </div>

</div>

{% endblock %}